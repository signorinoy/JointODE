% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{.validate}
\alias{.validate}
\title{Validate Input Data for Joint Modeling}
\usage{
.validate(
  longitudinal_formula,
  longitudinal_data,
  survival_formula,
  survival_data,
  id,
  time,
  spline_baseline = list(),
  spline_index = list()
)
}
\arguments{
\item{longitudinal_formula}{A formula object specifying the longitudinal
model. The left-hand side should contain the longitudinal outcome variable,
and the right-hand side should specify covariates.}

\item{longitudinal_data}{A data frame containing longitudinal measurements
with multiple observations per subject, ordered by subject ID and time.}

\item{survival_formula}{A formula object specifying the survival model.
Must have \code{Surv()} on the left-hand side with time and
status arguments.
The right-hand side specifies baseline covariates.}

\item{survival_data}{A data frame containing survival/event data with exactly
one row per subject.}

\item{id}{Character string specifying the name of the subject identifier
variable. Must be present in both \code{longitudinal_data} and
\code{survival_data}.}

\item{time}{Character string specifying the name of the time variable
in \code{longitudinal_data} for longitudinal measurements.}

\item{spline_baseline}{A list of spline configuration parameters for the
baseline hazard. Valid parameters include:
\itemize{
\item \code{degree}: Integer between 1 and 5 (default 3)
\item \code{n_knots}: Integer between 1 and 20 (default 5)
\item \code{knot_placement}: "quantile" or "equal" (default "quantile")
\item \code{boundary_knots}: NULL or numeric vector of length 2
}}

\item{spline_index}{A list of spline configuration parameters for the
longitudinal trajectory. Valid parameters include:
\itemize{
\item \code{degree}: Integer between 1 and 5 (default 3)
\item \code{n_knots}: Integer between 1 and 20 (default 4)
\item \code{knot_placement}: "quantile" or "equal" (default "quantile")
\item \code{boundary_knots}: NULL or numeric vector of length 2
}}
}
\value{
Returns \code{invisible(NULL)} if validation passes.
Throws an error with descriptive message if validation fails.
}
\description{
Validates longitudinal and survival data for joint ODE modeling. Checks data
integrity, formula validity, variable consistency, and temporal alignment
between longitudinal measurements and survival outcomes.
}
\details{
The validation process includes the following checks:
\itemize{
\item Input type verification for all arguments
\item Data dimension checks (non-empty data frames)
\item Variable existence in respective data frames
\item Survival formula structure (must use \code{Surv()})
\item Missing value detection in critical columns
\item Duplicate ID detection in survival data
\item ID consistency between longitudinal and survival data
\item Time value validity (non-negative for longitudinal,
positive for survival)
\item Temporal alignment (warns if measurements exist after
event/censoring time)
\item Event status validation (must be 0 or 1)
\item Observation frequency assessment
}
}
\examples{
\dontrun{
# Example with simulated data
longitudinal_data <- data.frame(
  id = rep(1:100, each = 5),
  time = rep(0:4, 100),
  v = rnorm(500),
  x1 = rnorm(500)
)

survival_data <- data.frame(
  id = 1:100,
  time = rexp(100, 0.1),
  status = rbinom(100, 1, 0.7),
  w1 = rnorm(100)
)

# Validate the data
.validate(
  longitudinal_formula = v ~ x1,
  longitudinal_data = longitudinal_data,
  survival_formula = Surv(time, status) ~ w1,
  survival_data = survival_data,
  id = "id",
  time = "time"
)
}

}
\seealso{
\code{\link{.process}} for data processing after validation
}
\concept{utilities}
