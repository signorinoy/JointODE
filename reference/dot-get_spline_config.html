<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Configure B-Spline Parameters — .get_spline_config • JointODE</title><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Configure B-Spline Parameters — .get_spline_config"><meta name="description" content="Creates B-spline configuration with optimal knot placement for flexible
modeling of baseline hazards and nonlinear trajectories in joint models."><meta property="og:description" content="Creates B-spline configuration with optimal knot placement for flexible
modeling of baseline hazards and nonlinear trajectories in joint models."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">JointODE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/technical-details.html">Technical Details</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/signorinoy/JointODE/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Configure B-Spline Parameters</h1>
      <small class="dont-index">Source: <a href="https://github.com/signorinoy/JointODE/blob/main/R/utils.R" class="external-link"><code>R/utils.R</code></a></small>
      <div class="d-none name"><code>dot-get_spline_config.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates B-spline configuration with optimal knot placement for flexible
modeling of baseline hazards and nonlinear trajectories in joint models.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">.get_spline_config</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  degree <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  n_knots <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  knot_placement <span class="op">=</span> <span class="st">"quantile"</span>,</span>
<span>  boundary_knots <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Numeric vector of data points for determining knot positions.
Used to calculate quantiles when <code>knot_placement = "quantile"</code>.</p></dd>


<dt id="arg-degree">degree<a class="anchor" aria-label="anchor" href="#arg-degree"></a></dt>
<dd><p>Integer specifying polynomial degree of the B-spline basis.
Common choices: 1 (linear), 2 (quadratic), 3 (cubic). Default is 3.</p></dd>


<dt id="arg-n-knots">n_knots<a class="anchor" aria-label="anchor" href="#arg-n-knots"></a></dt>
<dd><p>Integer specifying number of internal knots. More knots
allow greater flexibility but may cause overfitting. Default is 5.</p></dd>


<dt id="arg-knot-placement">knot_placement<a class="anchor" aria-label="anchor" href="#arg-knot-placement"></a></dt>
<dd><p>Character string specifying knot placement strategy:</p><ul><li><p><code>"quantile"</code>: Places knots at data quantiles (default)</p></li>
<li><p><code>"equal"</code>: Places knots at equal intervals</p></li>
</ul></dd>


<dt id="arg-boundary-knots">boundary_knots<a class="anchor" aria-label="anchor" href="#arg-boundary-knots"></a></dt>
<dd><p>Numeric vector of length 2 specifying the boundary
knots <code>[min, max]</code>, or NULL to use <code>range(x)</code>. Default is NULL.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of class <code>"spline_config"</code> with components:</p><dl><dt><code>degree</code></dt>
<dd><p>Polynomial degree for the B-spline basis</p></dd>

<dt><code>knots</code></dt>
<dd><p>Numeric vector of internal knot positions</p></dd>

<dt><code>boundary_knots</code></dt>
<dd><p>Numeric vector of length 2</p></dd>

<dt><code>df</code></dt>
<dd><p>Degrees of freedom (number of basis functions)</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function calculates B-spline basis parameters following the conventions
of <code><a href="https://rdrr.io/r/splines/bs.html" class="external-link">splines::bs()</a></code>. The degrees of freedom equals
<code>length(knots) + degree + 1</code>, which determines the number of basis
functions in the resulting B-spline representation.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Quantile-based knot placement is generally preferred as it adapts to the
data distribution, placing more knots where data is dense. Equal spacing
is useful when uniform coverage across the range is desired.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/splines/bs.html" class="external-link">bs</a></code> for B-spline basis generation</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Example 1: Configure splines for event times</span></span></span>
<span class="r-in"><span><span class="va">event_times</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html" class="external-link">rexp</a></span><span class="op">(</span><span class="fl">100</span>, rate <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">config_baseline</span> <span class="op">&lt;-</span> <span class="fu">.get_spline_config</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">event_times</span>,</span></span>
<span class="r-in"><span>  degree <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  n_knots <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>  knot_placement <span class="op">=</span> <span class="st">"quantile"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2: Configure splines for index values</span></span></span>
<span class="r-in"><span><span class="va">index_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">config_index</span> <span class="op">&lt;-</span> <span class="fu">.get_spline_config</span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="va">index_values</span>,</span></span>
<span class="r-in"><span>  degree <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  n_knots <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>  knot_placement <span class="op">=</span> <span class="st">"equal"</span>,</span></span>
<span class="r-in"><span>  boundary_knots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ziyang Gong.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

